<!DOCTYPE html>
<html>
  <head>
    <script src="/socket.io/socket.io.js"></script>
    <script src="./js/angular.min.js" type="text/javascript"></script>
    <script src="./js/angular-route.min.js" type="text/javascript"></script>
    <script src="./js/index.js" type="text/javascript"></script>
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/app.css" />
    <meta charset="UTF-8">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Cache-Control" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta content="text/html; charset=EUC-JP">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0">
    <title>Power Tool for Industrial 4.0</title>
  </head>
  <body ng-app="App">
    <audio id="soundok" preload="auto" src="OK.mp3" controls></audio>
    <audio id="soundng" preload="auto" src="NG.mp3" controls></audio>
    <div id="msg"></div>
    <div id="contents" ng-controller="MainController">
      <div ng-view></div>
      <script type="text/ng-template" id="tmpl-menu">
        <div class="view menu">
          <div id="title" class="title">Power Tool for Industrial 4.0</div>
          <div class="contents">
            <div class="active-area">
              <div class="menu-item" >ロック</div>
              <a class="menu-item" href="#/list">回転・トルク設定</a>
              <a class="menu-item" href="#/history">作業履歴</a>
              <a class="menu-item" href="#/info">本体・電源の情報</a>
              <a class="menu-item" href="#/reset">設定のリセット</a>
              <a class="menu-item" href="#/auth">工具認証</a>
            </div>
          </div>
        </div>
      </script>
      <script type="text/ng-template" id="tmpl-list">
        <div class="view list">
          <div class="title">
            <div class="back-button">←</div>
            回転・トルク設定
          </div>
          <div class="contents">
            <a class="item active-area" ng-repeat="(id, v) in items" href="#/list/modify/{{id}}">
              {{v.name}} ({{v.torque}})
              <div class="picture" style="background-image: url({{v.picPath}})"></div>
            </a>
          </div>
        </div>
      </script>
      <script type="text/ng-template" id="tmpl-history">
        <div class="view history">
          <div class="title">
            <div class="back-button">←</div>
            作業履歴
          </div>
          <div class="contents">
            <div class="item active-area" ng-repeat="v in history | orderBy:'-'">
              {{v.date}} / {{v.result}} ({{v.torque}}) {{items[v.id].name}}
              <div class="picture" style="background-image: url({{v.picPath}})"></div>
            </div>
            <button ng-if="history.length != 0" class="btn btn-primary" ng-click="logreset()">リセット</button>
          </div>
        </div>
      </script>
      <script type="text/ng-template" id="tmpl-info">
        <div class="view info">
          <div class="title">
            <div class="back-button">←</div>
            本体・電源の情報
          </div>
        </div>
      </script>
      <script type="text/ng-template" id="tmpl-reset">
        <div class="view reset">
          <div class="title">
            設定のリセット
            <div class="back-button">←</div>
          </div>
        </div>
      </script>
      <script type="text/ng-template" id="tmpl-auth">
        <div class="view auth">
          <div class="title">
            工具認証
            <div class="back-button">←</div>
          </div>
        </div>
      </script>
      <script type="text/ng-template" id="tmpl-list-modify">
        <div class="view list-modify">
          <div class="title">
            <div class="back-button">←</div>
            トルク設定
          </div>
          <div class="contents">
            <form>
              <div class="form-group">
                <label for="modify.name">登録名</label>
                <input type="text" class="form-control" ng-model="item.name" id="modify.name" placeholder="名称">
              </div>
              <div class="form-group">
                <label for="modify.torque">トルク</label>
                <input type="text" class="form-control" ng-model="item.torque" id="modify.torque" placeholder="トルク">
              </div>
              <button class="btn btn-primary" ng-click="update()">update</button>
              <button class="btn btn-primary" ng-click="cancel();">cancel</button>
              <button class="btn btn-danger" ng-click="del();">delete</button>
            </form>
        <div class="view history">
      </script>
    </div>
  </body>
</html>
