<!DOCTYPE html>
<html>
  <head>
    <script src="/socket.io/socket.io.js"></script>
    <script src="./js/angular.min.js" type="text/javascript"></script>
    <script src="./js/angular-route.min.js" type="text/javascript"></script>
    <script src="./js/index.js" type="text/javascript"></script>
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/app.css" />
    <meta charset="UTF-8">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Cache-Control" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta content="text/html; charset=EUC-JP">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0">
    <title>Power Tool for Industrial 4.0</title>
  </head>
  <body ng-app="App">
    OK<audio id="soundok" preload="auto" src="OK.mp3" controls></audio>
    NG<audio id="soundng" preload="auto" src="NG.mp3" controls></audio>
    <div id="title" class="title">Power Tool for Industrial 4.0</div>
    <div id="msg"></div>
    <div id="contents" ng-controller="MainController">
      <div ng-view></div>
      <script type="text/ng-template" id="tmpl-menu">
        <div class="menu-item" >ロック</div>
        <a class="menu-item" href="#/list">回転・トルク設定</a>
        <a class="menu-item" href="#/history">作業履歴</a>
        <a class="menu-item" href="#/info">本体・電源の情報</a>
        <a class="menu-item" href="#/reset">設定のリセット</a>
        <a class="menu-item" href="#/auth">工具認証</a>
      </script>
      <script type="text/ng-template" id="tmpl-list">
        <div class="view list">
          <div class="title">回転・トルク設定</div>
          <a class="listed-item" ng-repeat="(id, v) in items" href="#/list/modify/{{id}}">
            <center>
              登録名:{{v.name}}<br>
              トルク:{{v.torque}}
            </center>
            <div class="picture" style="background-image: url({{v.picPath}})"></div>
          </a>
        </div>
      </script>
      <script type="text/ng-template" id="tmpl-history">
        <div class="view history">
          <div class="title">作業履歴</div>
          <button class="btn btn-primary" ng-click="logreset()">ログリセット</button>
          <ul class="history-item">
            <li ng-repeat="v in history | orderBy:'-'">
              name: {{items[v.id].name}}<br>
              torque: {{v.torque}}<br>
              result: {{v.result}}<br>
              date: {{v.date}}<br>
              <img class="picture" src="{{v.picPath}}">
            </li>
          </ul>
        </div>
      </script>
      <script type="text/ng-template" id="tmpl-info">
        <div class="view info">
          <div class="title">本体・電源の情報</div>
        </div>
      </script>
      <script type="text/ng-template" id="tmpl-reset">
        <div class="view reset">
          <div class="title">設定のリセット</div>
        </div>
      </script>
      <script type="text/ng-template" id="tmpl-auth">
        <div class="view auth">
          <div class="title">工具認証</div>
        </div>
      </script>
      <script type="text/ng-template" id="tmpl-list-modify">
        <div style="color:#0040C0"><h2>トルク設定</h2></div>
        <div>
          <form>
            登録名:
            <input class="form-control" ng-model="item.name" id="modify.name" name="hoge" type="text" />
            トルク:
            <input class="form-control" ng-model="item.torque" id="modify.torque" type="number" />
            <button class="btn btn-primary" ng-click="update()">update</button>
            <button class="btn btn-primary" ng-click="cancel();">cancel</button>
            <button class="btn btn-danger" ng-click="del();">delete</button>
          </form>
        </div>
      </script>
    </div>
  </body>
</html>
